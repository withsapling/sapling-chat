class i{constructor(){if(this.modelSelectorButton=document.getElementById("model-selector-button"),this.modelDropdown=document.getElementById("model-dropdown"),this.selectedModelName=document.getElementById("selected-model-name"),this.thinkToggle=document.getElementById("think-toggle"),this.previousModel=null,!this.modelSelectorButton||!this.modelDropdown||!this.selectedModelName||!this.thinkToggle){console.error("Required model selector elements not found");return}this.init()}init(){const l=this.getCurrentModel();this.updateSelectedModel(l),this.selectedModelName&&!this.selectedModelName.getAttribute("title")&&this.selectedModelName.setAttribute("title",this.selectedModelName.textContent),this.thinkToggle.addEventListener("click",()=>{const t=this.thinkToggle.classList.toggle("active");if(this.thinkToggle.classList.toggle("bg-black",t),this.thinkToggle.classList.toggle("@dark:bg-white",t),this.thinkToggle.classList.toggle("text-white",t),this.thinkToggle.classList.toggle("@dark:text-black",t),t)this.previousModel=this.getCurrentModel(),this.updateSelectedModel("gemini-2.0-flash-thinking-exp-01-21"),this.setCurrentModel("gemini-2.0-flash-thinking-exp-01-21");else{const e=this.previousModel||"gemini-2.0-flash-lite";this.updateSelectedModel(e),this.setCurrentModel(e)}}),this.modelSelectorButton.addEventListener("click",t=>{t.stopPropagation(),this.modelDropdown.classList.toggle("hidden");const e=o=>{!this.modelDropdown.contains(o.target)&&!this.modelSelectorButton.contains(o.target)&&(this.modelDropdown.classList.add("hidden"),document.removeEventListener("click",e))};document.addEventListener("click",e)}),this.modelDropdown.addEventListener("click",t=>{const e=t.target.closest("[data-model-id]");if(e){const o=e.dataset.modelId;this.updateSelectedModel(o),this.setCurrentModel(o),this.modelDropdown.classList.add("hidden")}})}getCurrentModel(){return localStorage.getItem("selected_model")||"gemini-2.0-flash-lite"}setCurrentModel(l){localStorage.setItem("selected_model",l)}updateSelectedModel(l){this.modelDropdown.querySelectorAll("[data-model-id]").forEach(e=>{const o=e.dataset.modelId===l;if(e.dataset.selected=o,o&&this.selectedModelName){const d=e.querySelector(".font-medium").textContent;this.selectedModelName.textContent=d,this.selectedModelName.setAttribute("title",d)}})}}export{i as M};
